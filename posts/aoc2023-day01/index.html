<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="
Table of Contents


  Part 1

  Part 2



This year I try to record my attempt at solving the Advent of Code 2023
riddles. This is Day 1 - see 
  https:adventofcode.com/2023/day/1

  Part 1
  #


Our first task is the following:


The newly-improved calibration document consists of lines of text; each line
originally contained a specific calibration value that the Elves now need to
recover. On each line, the calibration value can be found by combining the first
digit and the last digit (in that order) to form a single two-digit number.">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="https://aseltmann.github.io/posts/aoc2023-day01/">
  <meta property="og:site_name" content="Blog & Notes">
  <meta property="og:title" content="Advent of code 2023 - Day 1: Trebuchet?!">
  <meta property="og:description" content="Table of Contents Part 1 Part 2 This year I try to record my attempt at solving the Advent of Code 2023 riddles. This is Day 1 - see https:adventofcode.com/2023/day/1
Part 1 # Our first task is the following: The newly-improved calibration document consists of lines of text; each line originally contained a specific calibration value that the Elves now need to recover. On each line, the calibration value can be found by combining the first digit and the last digit (in that order) to form a single two-digit number.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-12-10T03:05:00+01:00">
    <meta property="article:modified_time" content="2024-12-22T03:12:06+01:00">
    <meta property="article:tag" content="Python">
<title>Advent of code 2023 - Day 1: Trebuchet?! | Blog &amp; Notes</title>
<link rel="icon" href="/favicon.png" >
<link rel="manifest" href="/manifest.json">
<link rel="canonical" href="https://aseltmann.github.io/posts/aoc2023-day01/">
  <link rel="alternate" hreflang="de" href="https://aseltmann.github.io/de/posts/aoc2023-day01/" title="Advent of code 2023 - Tag 1: Trebuchet?!">
<link rel="stylesheet" href="/book.min.56691afae45cb2163a009d3865c4b9b69d380cf16d1bd3321c034824b744ac91.css" integrity="sha256-Vmka&#43;uRcshY6AJ04ZcS5tp04DPFtG9MyHANIJLdErJE=" crossorigin="anonymous">
  <script defer src="/fuse.min.js"></script>
  <script defer src="/en.search.min.5029dfac47e69129740e75985bedccd48f7b89741e258a6ff923f25dd0ef70aa.js" integrity="sha256-UCnfrEfmkSl0DnWYW&#43;3M1I97iXQeJYpv&#43;SPyXdDvcKo=" crossorigin="anonymous"></script>

  <script defer src="/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js" integrity="sha256-b2&#43;Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC&#43;NdcPIvZhzk=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
  <h2 class="book-brand">
  <a class="flex align-center" href="/"><img src="/book_logo.png" alt="Logo" class="book-icon" /><span>Blog &amp; Notes</span>
  </a>
</h2>

  <a href="/"><img src="/book_logo.png" alt="Logo" width="100%"/></a>

  
<div class="book-search hidden">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>



  



  
    
  


  


<ul class="book-languages">
  <li>
    <input type="checkbox" id="languages" class="toggle" />
    <label for="languages" class="flex justify-between">
      <a role="button" class="flex align-center">
        <img src="/svg/translate.svg" class="book-icon" alt="Languages" />
        English
      </a>
    </label>

    <ul>
      
      <li>
        <a href="/de/posts/aoc2023-day01/">
          Deutsch
        </a>
      </li>
      
    </ul>
  </li>
</ul>



<ul>
    <li>
        <a href="/posts/">Blog</a>
    </li>
</ul>











  
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/publications/" class="">Publications</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span>Notes</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/notes/poetry/" class="">Poetry</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>










  
<ul>
  
  <li>
    <a href="https://github.com/aseltmann"  target="_blank" rel="noopener">
        Github
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <h3>Advent of code 2023 - Day 1: Trebuchet?!</h3>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#part-1">Part 1</a></li>
    <li><a href="#part-2">Part 2</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
<article class="markdown book-post">
  <h2>
    Advent of code 2023 - Day 1: Trebuchet?!
  </h2>
  
  <div class="flex align-center text-small book-post-date">
    <img src="/svg/calendar.svg" class="book-icon " alt="" />
    <span>2023-12-10</span>
  </div>



  

  
  <div class="text-small">
    
      <a href="/tags/python/">Python</a>
  </div>
  


  <div class="book-post-content"><div class="ox-hugo-toc toc">
<div class="heading">Table of Contents</div>
<ul>
<li>
  <a href="/#part-1">Part 1</a></li>
<li>
  <a href="/#part-2">Part 2</a></li>
</ul>
</div>
<!--endtoc-->
<p>This year I try to record my attempt at solving the <strong>Advent of Code 2023</strong>
riddles. This is Day 1 - see 
  <a href="https:adventofcode.com/2023/day/1">https:adventofcode.com/2023/day/1</a></p>
<h2 id="part-1">
  Part 1
  <a class="anchor" href="#part-1">#</a>
</h2>
<details>
<summary>Our first task is the following:</summary>
<div class="details">
<blockquote>
<p>The newly-improved calibration document consists of lines of text; each line
originally contained a specific calibration value that the Elves now need to
recover. On each line, the calibration value can be found by combining the first
digit and the last digit (in that order) to form a single two-digit number.</p>
<p>For example:</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>1abc2
</span></span><span style="display:flex;"><span>pqr3stu8vwx
</span></span><span style="display:flex;"><span>a1b2c3d4e5f
</span></span><span style="display:flex;"><span>treb7uchet
</span></span></code></pre></div><blockquote>
<p>In this example, the calibration values of these four lines are 12, 38, 15,
and 77. Adding these together produces 142.</p>
<p>Consider your entire calibration document. What is the sum of all of the
calibration values?</p>
</blockquote>
</div>
</details>
<p>My input file: 
  <a href="https://github.com/aseltmann/aseltmann.github.io-org-src/blob/main/data/2023-12-01-1-aoc.txt">2023-12-01-1-aoc.txt</a></p>
<p>Lets start jupyter in our shell to start coding!</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>conda activate tf
</span></span><span style="display:flex;"><span>jupyter lab --no-browser --port<span style="color:#f92672">=</span><span style="color:#ae81ff">8888</span>
</span></span></code></pre></div><p>First, load the test document</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> re
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>txt <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_table(<span style="color:#e6db74">&#39;data/2023-12-01-1-aoc.txt&#39;</span>, names<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;code&#39;</span>])
</span></span><span style="display:flex;"><span>txt
</span></span></code></pre></div><table>
  <thead>
      <tr>
          <th></th>
          <th>code</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>0</td>
          <td>jjfvnnlfivejj1</td>
      </tr>
      <tr>
          <td>1</td>
          <td>6fourfour</td>
      </tr>
      <tr>
          <td>2</td>
          <td>ninevbmltwo69</td>
      </tr>
      <tr>
          <td>3</td>
          <td>pcg91vqrfpxxzzzoneightzt</td>
      </tr>
      <tr>
          <td>4</td>
          <td>jpprthxgjfive3one1qckhrptpqdc</td>
      </tr>
      <tr>
          <td>&hellip;</td>
          <td>&hellip;</td>
      </tr>
      <tr>
          <td>995</td>
          <td>583sevenhjxlqzjgbzxhkcl5</td>
      </tr>
      <tr>
          <td>996</td>
          <td>81s</td>
      </tr>
      <tr>
          <td>997</td>
          <td>2four3threesxxvlfqfive4</td>
      </tr>
      <tr>
          <td>998</td>
          <td>nine6eightsevenzx9twoxc</td>
      </tr>
      <tr>
          <td>999</td>
          <td>hmbfjdfnp989mfivefiverpzrjs</td>
      </tr>
  </tbody>
</table>
<p>1000 rows × 1 columns</p>
<p>Second, extract the digits. I had to wrap my head around regex matching in
python first, because I first tried <code>pandas.extract</code> (which only extracts the
first match), then <code>pandas.extractall</code> (which extracts all matches but puts them
into a multiindex which makes things more difficult in this case). So I settled
for the <code>re.findall</code> version, which returns a list. To concatenate the elements
in the list, we take use the <code>join</code> function.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>txt[<span style="color:#e6db74">&#39;digits&#39;</span>] <span style="color:#f92672">=</span> txt<span style="color:#f92672">.</span>loc[:, <span style="color:#e6db74">&#39;code&#39;</span>]<span style="color:#f92672">.</span>apply(
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">lambda</span> x: <span style="color:#e6db74">&#39;&#39;</span><span style="color:#f92672">.</span>join(re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;(\d+)&#39;</span>, x)))
</span></span><span style="display:flex;"><span>txt
</span></span></code></pre></div><table>
  <thead>
      <tr>
          <th></th>
          <th>code</th>
          <th>digits</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>0</td>
          <td>jjfvnnlfivejj1</td>
          <td>1</td>
      </tr>
      <tr>
          <td>1</td>
          <td>6fourfour</td>
          <td>6</td>
      </tr>
      <tr>
          <td>2</td>
          <td>ninevbmltwo69</td>
          <td>69</td>
      </tr>
      <tr>
          <td>3</td>
          <td>pcg91vqrfpxxzzzoneightzt</td>
          <td>91</td>
      </tr>
      <tr>
          <td>4</td>
          <td>jpprthxgjfive3one1qckhrptpqdc</td>
          <td>31</td>
      </tr>
      <tr>
          <td>&hellip;</td>
          <td>&hellip;</td>
          <td>&hellip;</td>
      </tr>
      <tr>
          <td>995</td>
          <td>583sevenhjxlqzjgbzxhkcl5</td>
          <td>5835</td>
      </tr>
      <tr>
          <td>996</td>
          <td>81s</td>
          <td>81</td>
      </tr>
      <tr>
          <td>997</td>
          <td>2four3threesxxvlfqfive4</td>
          <td>234</td>
      </tr>
      <tr>
          <td>998</td>
          <td>nine6eightsevenzx9twoxc</td>
          <td>69</td>
      </tr>
      <tr>
          <td>999</td>
          <td>hmbfjdfnp989mfivefiverpzrjs</td>
          <td>989</td>
      </tr>
  </tbody>
</table>
<p>1000 rows × 2 columns</p>
<p>Next, combine the first and the last digit and convert the result from string to integer</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>txt[<span style="color:#e6db74">&#39;calibration&#39;</span>] <span style="color:#f92672">=</span> txt<span style="color:#f92672">.</span>loc[:, <span style="color:#e6db74">&#39;digits&#39;</span>]<span style="color:#f92672">.</span>apply(
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">lambda</span> x: int(x[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">+</span> x[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]))
</span></span><span style="display:flex;"><span>txt
</span></span></code></pre></div><table>
  <thead>
      <tr>
          <th></th>
          <th>code</th>
          <th>digits</th>
          <th>calibration</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>0</td>
          <td>jjfvnnlfivejj1</td>
          <td>1</td>
          <td>11</td>
      </tr>
      <tr>
          <td>1</td>
          <td>6fourfour</td>
          <td>6</td>
          <td>66</td>
      </tr>
      <tr>
          <td>2</td>
          <td>ninevbmltwo69</td>
          <td>69</td>
          <td>69</td>
      </tr>
      <tr>
          <td>3</td>
          <td>pcg91vqrfpxxzzzoneightzt</td>
          <td>91</td>
          <td>91</td>
      </tr>
      <tr>
          <td>4</td>
          <td>jpprthxgjfive3one1qckhrptpqdc</td>
          <td>31</td>
          <td>31</td>
      </tr>
      <tr>
          <td>&hellip;</td>
          <td>&hellip;</td>
          <td>&hellip;</td>
          <td>&hellip;</td>
      </tr>
      <tr>
          <td>995</td>
          <td>583sevenhjxlqzjgbzxhkcl5</td>
          <td>5835</td>
          <td>55</td>
      </tr>
      <tr>
          <td>996</td>
          <td>81s</td>
          <td>81</td>
          <td>81</td>
      </tr>
      <tr>
          <td>997</td>
          <td>2four3threesxxvlfqfive4</td>
          <td>234</td>
          <td>24</td>
      </tr>
      <tr>
          <td>998</td>
          <td>nine6eightsevenzx9twoxc</td>
          <td>69</td>
          <td>69</td>
      </tr>
      <tr>
          <td>999</td>
          <td>hmbfjdfnp989mfivefiverpzrjs</td>
          <td>989</td>
          <td>99</td>
      </tr>
  </tbody>
</table>
<p>1000 rows × 3 columns</p>
<p>Lastly, get the sum of our calibration numbers</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>txt<span style="color:#f92672">.</span>loc[:, <span style="color:#e6db74">&#39;calibration&#39;</span>]<span style="color:#f92672">.</span>sum()
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>56465
</span></span></code></pre></div><h2 id="part-2">
  Part 2
  <a class="anchor" href="#part-2">#</a>
</h2>
<details>
<summary>Now follows part two:</summary>
<div class="details">
<blockquote>
<p>Your calculation isn&rsquo;t quite right. It looks like some of the digits are
actually spelled out with letters: one, two, three, four, five, six, seven,
eight, and nine also count as valid &ldquo;digits&rdquo;.</p>
<p>Equipped with this new information, you now need to find the real first and last
digit on each line. For example:</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>two1nine
</span></span><span style="display:flex;"><span>eightwothree
</span></span><span style="display:flex;"><span>abcone2threexyz
</span></span><span style="display:flex;"><span>xtwone3four
</span></span><span style="display:flex;"><span>4nineeightseven2
</span></span><span style="display:flex;"><span>zoneight234
</span></span><span style="display:flex;"><span>7pqrstsixteen
</span></span></code></pre></div><blockquote>
<p>In this example, the calibration values are 29, 83, 13, 24, 42, 14, and 76.
Adding these together produces 281.</p>
<p>What is the sum of all of the calibration values?</p>
</blockquote>
</div>
</details>
<p>Okay, let&rsquo;s see if we can update the pattern matching. To deal with potential
overlapping values like <code>oneight</code> which contains <code>one</code> as well as <code>eight</code>, I
used the regex positive lookahead <code>?=</code> as described 
  <a href="https://stackoverflow.com/a/5616910">here</a>. Because this enables
capturing overlapping values, I used <code>\d</code> (one digit) instead of <code>\d+</code> (one or
more digits), otherwise digits might double. Afterwards, just replace the
spelled out digits with their numerical value.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># for i, r in enumerate(txt.loc[:, &#39;code&#39;]):</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#     matches = re.findall(</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#         r&#39;(?=(\d|one|two|three|four|five|six|seven|eight|nine))&#39;, r)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#     result = &#39;&#39;.join([match for match in matches])</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#     result = result.replace(&#39;one&#39;, &#39;1&#39;).replace(&#39;two&#39;, &#39;2&#39;).replace(</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#         &#39;three&#39;, &#39;3&#39;).replace(&#39;four&#39;, &#39;4&#39;).replace(&#39;five&#39;, &#39;5&#39;).replace(</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#         &#39;six&#39;, &#39;6&#39;).replace(&#39;seven&#39;, &#39;7&#39;).replace(&#39;eight&#39;, &#39;8&#39;).replace(</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#         &#39;nine&#39;, &#39;9&#39;)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#     txt.loc[i, &#39;digits2&#39;] = result</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># txt</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># a very nice alternative suggested by Tomalak:</span>
</span></span><span style="display:flex;"><span>digits <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;\d one two three four five six seven eight nine&#39;</span><span style="color:#f92672">.</span>split()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>txt[<span style="color:#e6db74">&#39;digits2&#39;</span>] <span style="color:#f92672">=</span> txt<span style="color:#f92672">.</span>loc[:, <span style="color:#e6db74">&#39;code&#39;</span>]<span style="color:#f92672">.</span>apply(<span style="color:#66d9ef">lambda</span> v: <span style="color:#e6db74">&#39;&#39;</span><span style="color:#f92672">.</span>join(
</span></span><span style="display:flex;"><span>    str(digits<span style="color:#f92672">.</span>index(m)) <span style="color:#66d9ef">if</span> m <span style="color:#f92672">in</span> digits <span style="color:#66d9ef">else</span> m
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> m <span style="color:#f92672">in</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">rf</span><span style="color:#e6db74">&#39;(?=(</span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#34;|&#34;</span><span style="color:#f92672">.</span>join(digits)<span style="color:#e6db74">}</span><span style="color:#e6db74">))&#39;</span>, v)
</span></span><span style="display:flex;"><span>))
</span></span><span style="display:flex;"><span>txt
</span></span></code></pre></div><table>
  <thead>
      <tr>
          <th></th>
          <th>code</th>
          <th>digits</th>
          <th>calibration</th>
          <th>digits2</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>0</td>
          <td>jjfvnnlfivejj1</td>
          <td>1</td>
          <td>11</td>
          <td>51</td>
      </tr>
      <tr>
          <td>1</td>
          <td>6fourfour</td>
          <td>6</td>
          <td>66</td>
          <td>644</td>
      </tr>
      <tr>
          <td>2</td>
          <td>ninevbmltwo69</td>
          <td>69</td>
          <td>69</td>
          <td>9269</td>
      </tr>
      <tr>
          <td>3</td>
          <td>pcg91vqrfpxxzzzoneightzt</td>
          <td>91</td>
          <td>91</td>
          <td>9118</td>
      </tr>
      <tr>
          <td>4</td>
          <td>jpprthxgjfive3one1qckhrptpqdc</td>
          <td>31</td>
          <td>31</td>
          <td>5311</td>
      </tr>
      <tr>
          <td>&hellip;</td>
          <td>&hellip;</td>
          <td>&hellip;</td>
          <td>&hellip;</td>
          <td>&hellip;</td>
      </tr>
      <tr>
          <td>995</td>
          <td>583sevenhjxlqzjgbzxhkcl5</td>
          <td>5835</td>
          <td>55</td>
          <td>58375</td>
      </tr>
      <tr>
          <td>996</td>
          <td>81s</td>
          <td>81</td>
          <td>81</td>
          <td>81</td>
      </tr>
      <tr>
          <td>997</td>
          <td>2four3threesxxvlfqfive4</td>
          <td>234</td>
          <td>24</td>
          <td>243354</td>
      </tr>
      <tr>
          <td>998</td>
          <td>nine6eightsevenzx9twoxc</td>
          <td>69</td>
          <td>69</td>
          <td>968792</td>
      </tr>
      <tr>
          <td>999</td>
          <td>hmbfjdfnp989mfivefiverpzrjs</td>
          <td>989</td>
          <td>99</td>
          <td>98955</td>
      </tr>
  </tbody>
</table>
<p>1000 rows × 4 columns</p>
<p>Now, construct the calibration value as before&hellip;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>txt[<span style="color:#e6db74">&#39;calibration2&#39;</span>] <span style="color:#f92672">=</span> txt<span style="color:#f92672">.</span>loc[:, <span style="color:#e6db74">&#39;digits2&#39;</span>]<span style="color:#f92672">.</span>apply(<span style="color:#66d9ef">lambda</span> x: int(x[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">+</span> x[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]))
</span></span><span style="display:flex;"><span>txt
</span></span></code></pre></div><table>
  <thead>
      <tr>
          <th></th>
          <th>code</th>
          <th>digits</th>
          <th>calibration</th>
          <th>digits2</th>
          <th>calibration2</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>0</td>
          <td>jjfvnnlfivejj1</td>
          <td>1</td>
          <td>11</td>
          <td>51</td>
          <td>51</td>
      </tr>
      <tr>
          <td>1</td>
          <td>6fourfour</td>
          <td>6</td>
          <td>66</td>
          <td>644</td>
          <td>64</td>
      </tr>
      <tr>
          <td>2</td>
          <td>ninevbmltwo69</td>
          <td>69</td>
          <td>69</td>
          <td>9269</td>
          <td>99</td>
      </tr>
      <tr>
          <td>3</td>
          <td>pcg91vqrfpxxzzzoneightzt</td>
          <td>91</td>
          <td>91</td>
          <td>9118</td>
          <td>98</td>
      </tr>
      <tr>
          <td>4</td>
          <td>jpprthxgjfive3one1qckhrptpqdc</td>
          <td>31</td>
          <td>31</td>
          <td>5311</td>
          <td>51</td>
      </tr>
      <tr>
          <td>&hellip;</td>
          <td>&hellip;</td>
          <td>&hellip;</td>
          <td>&hellip;</td>
          <td>&hellip;</td>
          <td>&hellip;</td>
      </tr>
      <tr>
          <td>995</td>
          <td>583sevenhjxlqzjgbzxhkcl5</td>
          <td>5835</td>
          <td>55</td>
          <td>58375</td>
          <td>55</td>
      </tr>
      <tr>
          <td>996</td>
          <td>81s</td>
          <td>81</td>
          <td>81</td>
          <td>81</td>
          <td>81</td>
      </tr>
      <tr>
          <td>997</td>
          <td>2four3threesxxvlfqfive4</td>
          <td>234</td>
          <td>24</td>
          <td>243354</td>
          <td>24</td>
      </tr>
      <tr>
          <td>998</td>
          <td>nine6eightsevenzx9twoxc</td>
          <td>69</td>
          <td>69</td>
          <td>968792</td>
          <td>92</td>
      </tr>
      <tr>
          <td>999</td>
          <td>hmbfjdfnp989mfivefiverpzrjs</td>
          <td>989</td>
          <td>99</td>
          <td>98955</td>
          <td>95</td>
      </tr>
  </tbody>
</table>
<p>1000 rows × 5 columns</p>
<p>&hellip; and get the correct sum!</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>txt<span style="color:#f92672">.</span>loc[:, <span style="color:#e6db74">&#39;calibration2&#39;</span>]<span style="color:#f92672">.</span>sum()
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>55902
</span></span></code></pre></div></div>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">


  <div><a class="flex align-center" href="https://github.com/aseltmann/aseltmann.github.io-org-src/commit/38fe0acc7f126a949284fa3a84cd91e52ee88a4e" title='Last modified by A Seltmann | 2024-12-22' target="_blank" rel="noopener">
      <img src="/svg/calendar.svg" class="book-icon" alt="" />
      <span>2024-12-22</span>
    </a>
  </div>




</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        <div class="footer">
    
    
    Exported
    
    from <a href="https://github.com/aseltmann/aseltmann.github.io-org-src/raw/main/source.org"> <code>source.org</code></a>
    
    using
    
    <a href="https://www.gnu.org/software/emacs/">Emacs 29.4 </a> &plus;
    <a href="https://orgmode.org/">Org mode 9.7.11 </a> &plus;
    
    <a href="https://github.com/kaushalmodi/ox-hugo"><code>ox-hugo</code></a>
    and published using
    
    <a href="https://gohugo.io/">Hugo 0.142.0</a>
	  &plus; <a href="https://github.com/alex-shpak/hugo-book">Book</a>
    
</div>

      </footer>

      
  
  <div class="book-comments">

<script src="https://utteranc.es/client.js"
        repo="aseltmann/aseltmann.github.io"
        issue-term="pathname"
        label="comment"
        theme="photon-dark"
        crossorigin="anonymous"
        async>
</script>
</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#part-1">Part 1</a></li>
    <li><a href="#part-2">Part 2</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












