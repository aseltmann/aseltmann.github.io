<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="I try to solve this year&rsquo;s Advent of Code 2024 riddles in R. This is Day 1 -
see 
  https:adventofcode.com/2024/day/1">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="https://aseltmann.github.io/posts/aoc2024-day01/">
  <meta property="og:site_name" content="Blog & Notes">
  <meta property="og:title" content="Advent of code 2024 - Day 1: Historian Hysteria">
  <meta property="og:description" content="I try to solve this yearâ€™s Advent of Code 2024 riddles in R. This is Day 1 - see https:adventofcode.com/2024/day/1">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-12-07T00:22:00+01:00">
    <meta property="article:modified_time" content="2025-02-09T22:08:16+01:00">
    <meta property="article:tag" content="R">
<title>Advent of code 2024 - Day 1: Historian Hysteria | Blog &amp; Notes</title>
<link rel="icon" href="/favicon.png" >
<link rel="manifest" href="/manifest.json">
<link rel="canonical" href="https://aseltmann.github.io/posts/aoc2024-day01/">
  <link rel="alternate" hreflang="de" href="https://aseltmann.github.io/de/posts/aoc2024-day01/" title="Advent of code 2024 - Tag 1: Hysterie der Historiker:innen">
<link rel="stylesheet" href="/book.min.bc1a270977e15d5235c81216520f51ab601e4222c8838e0410b5243899aa63b3.css" integrity="sha256-vBonCXfhXVI1yBIWUg9Rq2AeQiLIg44EELUkOJmqY7M=" crossorigin="anonymous">
  <script defer src="/fuse.min.js"></script>
  <script defer src="/en.search.min.ffd551fc8c0676af2a3b765761f1e319c1a88e04460b4dcf06389eedaf032022.js" integrity="sha256-/9VR/IwGdq8qO3ZXYfHjGcGojgRGC03PBjie7a8DICI=" crossorigin="anonymous"></script>

  <script defer src="/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js" integrity="sha256-b2&#43;Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC&#43;NdcPIvZhzk=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  <link href="/font-awesome/css/fontawesome.css" rel="stylesheet">
<link href="/font-awesome/css/brands.css" rel="stylesheet">
<link href="/font-awesome/css/solid.css" rel="stylesheet">

</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
  <h2 class="book-brand">
  <a class="flex align-center" href="/"><img src="/book_logo.png" alt="Logo" class="book-icon" /><span>Blog &amp; Notes</span>
  </a>
</h2>

  <a href="/"><img src="/book_logo.png" alt="Logo" width="100%"/></a>

  
<div class="book-search hidden">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>



  



  
    
  


  


<ul class="book-languages">
  <li>
    <input type="checkbox" id="languages" class="toggle" />
    <label for="languages" class="flex justify-between">
      <a role="button" class="flex align-center">
        <img src="/svg/translate.svg" class="book-icon" alt="Languages" />
        English
      </a>
    </label>

    <ul>
      
      <li>
        <a href="/de/posts/aoc2024-day01/">
          Deutsch
        </a>
      </li>
      
    </ul>
  </li>
</ul>



<ul>
    <li>
        <a href="/posts/">Blog</a>
    </li>
</ul>











  
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/publications/" class="">Publications</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span>Notes</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/notes/poetry/" class="">Poetry</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>










  
<ul>
  
  <li>
    <a href=""  target="_blank" rel="noopener">
        
      </a>
  </li>
  
</ul>






  <a class="button-square button-social hint--top" rel="me" data-hint="Github" title="Github" href="https://github.com/aseltmann">
  <i class="fa-brands fa-github"></i>
  </a>


  <a class="button-square button-social hint--top" rel="me" data-hint="Mastodon" title="Mastodon" href="https://chaos.social/@aseltmann">
  | <i class="fa-brands fa-mastodon"></i>
  </a>


  <a class="button-square button-social hint--top" rel="me" data-hint="Bluesky" title="Bluesky" href="https://aseltmann.bsky.social">
  | <i class="fa-brands fa-bluesky"></i>
  </a>


</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <h3>Advent of code 2024 - Day 1: Historian Hysteria</h3>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#part-1-locations">Part 1: Locations</a></li>
    <li><a href="#part-2-similarities">Part 2: Similarities</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
<article class="markdown book-post">
  <h2>
    Advent of code 2024 - Day 1: Historian Hysteria
  </h2>
  
  <div class="flex align-center text-small book-post-date">
    <img src="/svg/calendar.svg" class="book-icon " alt="" />
    <span>2024-12-07</span>
  </div>



  

  
  <div class="text-small">
    
      <a href="/tags/R/">R</a>
  </div>
  


  <div class="book-post-content"><p>I try to solve this year&rsquo;s <strong>Advent of Code 2024</strong> riddles in R. This is Day 1 -
see 
  <a href="https:adventofcode.com/2024/day/1">https:adventofcode.com/2024/day/1</a></p>
<h2 id="part-1-locations">
  Part 1: Locations
  <a class="anchor" href="#part-1-locations">#</a>
</h2>
<details>
<summary>Lets first read the task:</summary>
<div class="details">
<blockquote>
<p>Throughout the Chief&rsquo;s office, the historically significant locations are listed
not by name but by a unique number called the <strong>location ID</strong>. To make sure they
don&rsquo;t miss anything, The Historians split into two groups, each searching the
office and trying to create their own complete list of location IDs.</p>
<p>There&rsquo;s just one problem: by holding the two lists up <strong>side by side</strong> (your
puzzle input), it quickly becomes clear that the lists aren&rsquo;t very similar.
Maybe you can help The Historians reconcile their lists?</p>
<p>For example:</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>3   4
</span></span><span style="display:flex;"><span>4   3
</span></span><span style="display:flex;"><span>2   5
</span></span><span style="display:flex;"><span>1   3
</span></span><span style="display:flex;"><span>3   9
</span></span><span style="display:flex;"><span>3   3
</span></span></code></pre></div><blockquote>
<p>Maybe the lists are only off by a small amount! To find out, pair up the numbers
and measure how far apart they are. Pair up the <strong>smallest number in the left
list</strong> with the <strong>smallest number in the right list</strong>, then the <strong>second-smallest
left number</strong> with the <strong>second-smallest right number</strong>, and so on.</p>
<p>Within each pair, figure out <strong>how far apart</strong> the two numbers are; you&rsquo;ll need to
<strong>add up all of those distances</strong>. For example, if you pair up a <code>3</code> from the left
list with a <code>7</code> from the right list, the distance apart is <code>4</code>; if you pair up a
<code>9</code> with a <code>3</code>, the distance apart is <code>6</code>.</p>
<p>In the example list above, the pairs and distances would be as follows:</p>
<ul>
<li>The smallest number in the left list is <code>1</code>, and the smallest number in the
right list is <code>3</code>. The distance between them is <strong><code>2</code></strong>.</li>
<li>The second-smallest number in the left list is <code>2</code>, and the second-smallest
number in the right list is another <code>3</code>. The distance between them is <strong><code>1</code></strong>.</li>
<li>The third-smallest number in both lists is <code>3</code>, so the distance between them
is <strong><code>0</code></strong>.</li>
<li>The next numbers to pair up are <code>3</code> and <code>4</code>, a distance of <strong><code>1</code></strong>.</li>
<li>The fifth-smallest numbers in each list are <code>3</code> and <code>5</code>, a distance of <strong><code>2</code></strong>.</li>
<li>Finally, the largest number in the left list is <code>4</code>, while the largest number
in the right list is <code>9</code>; these are a distance <strong><code>5</code></strong> apart.</li>
</ul>
<p>To find the <strong>total distance</strong> between the left list and the right list, add up
the distances between all of the pairs you found. In the example above, this is
<code>2 + 1 + 0 + 1 + 2 + 5</code>, a total distance of <strong><code>11</code></strong>!</p>
<p>Your actual left and right lists contain many location IDs. <strong>What is the total distance between your lists?</strong></p>
</blockquote>
</div>
</details>
<p>My input file: 
  <a href="https://github.com/aseltmann/aseltmann.github.io-org-src/blob/main/data/2023-12-03-1-aoc.txt">2024-12-01-1-aoc.txt</a></p>
<p>First, we read the data - the <code>fread</code> command from the <code>data.table</code> package is
more versatile than <code>read.delim</code> from <code>base</code> and directly reads the data as a
<code>data.table</code>, which has 
  <a href="https://cran.r-project.org/web/packages/data.table/vignettes/datatable-intro.html">some benefits</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span>data <span style="color:#f92672">&lt;-</span> data.table<span style="color:#f92672">::</span><span style="color:#a6e22e">fread</span>(<span style="color:#e6db74">&#34;2024-12-01-1-aoc.txt&#34;</span>, header <span style="color:#f92672">=</span> <span style="color:#66d9ef">FALSE</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">head</span>(data)
</span></span></code></pre></div><table>
  <thead>
      <tr>
          <th>V1</th>
          <th>V2</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>&lt;int&gt;</td>
          <td>&lt;int&gt;</td>
      </tr>
      <tr>
          <td>41226</td>
          <td>69190</td>
      </tr>
      <tr>
          <td>89318</td>
          <td>10100</td>
      </tr>
      <tr>
          <td>59419</td>
          <td>23880</td>
      </tr>
      <tr>
          <td>63157</td>
          <td>20193</td>
      </tr>
      <tr>
          <td>81510</td>
          <td>22869</td>
      </tr>
      <tr>
          <td>83942</td>
          <td>63304</td>
      </tr>
  </tbody>
</table>
<p>Now, the idea is to get the ordered versions of <code>V1</code> and <code>V2</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span>v1 <span style="color:#f92672">&lt;-</span> data<span style="color:#a6e22e">[order</span>(V1)]<span style="color:#f92672">$</span>V1
</span></span><span style="display:flex;"><span>v2 <span style="color:#f92672">&lt;-</span> data<span style="color:#a6e22e">[order</span>(V2)]<span style="color:#f92672">$</span>V2
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">head</span>(v1)
</span></span></code></pre></div><ol>
<li>10188</li>
<li>10314</li>
<li>10319</li>
<li>10348</li>
<li>10408</li>
<li>10668</li>
</ol>
<p>Coming from Python, this syntax looks a bit odd. The documentation of
<code>data.table::setorder</code> helps:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>setorder (and setorderv) reorders the rows of a data.table based on the columns (and column
</span></span><span style="display:flex;"><span>order) provided. It reorders the table by reference and is therefore very memory efficient.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Note that queries like x[order(.)] are optimised internally to use data.table&#39;s fast order.
</span></span></code></pre></div><p>So, <code>data[order(V1)]</code> is actually short for <code>data.table::setorder(data, V1)</code>.
Then, we extract the vector by name using the <code>$</code> operator, which allows to
extract elements by name.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span><span style="color:#a6e22e">head</span>(data.table<span style="color:#f92672">::</span><span style="color:#a6e22e">setorder</span>(data, V1)<span style="color:#f92672">$</span>V1)
</span></span></code></pre></div><ol>
<li>10188</li>
<li>10314</li>
<li>10319</li>
<li>10348</li>
<li>10408</li>
<li>10668</li>
</ol>
<p>The actual computation is just the sum of the absolute difference:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span><span style="color:#a6e22e">sum</span>(<span style="color:#a6e22e">abs</span>(v1 <span style="color:#f92672">-</span> v2))
</span></span></code></pre></div><p>3574690</p>
<h2 id="part-2-similarities">
  Part 2: Similarities
  <a class="anchor" href="#part-2-similarities">#</a>
</h2>
<details>
<summary>Lets first read the task:</summary>
<div class="details">
<blockquote>
<p>This time, you&rsquo;ll need to figure out exactly how often each number from the left
list appears in the right list. Calculate a total <strong>similarity score</strong> by adding
up each number in the left list after multiplying it by the number of times that
number appears in the right list.</p>
<p>Here are the same example lists again:</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>3   4
</span></span><span style="display:flex;"><span>4   3
</span></span><span style="display:flex;"><span>2   5
</span></span><span style="display:flex;"><span>1   3
</span></span><span style="display:flex;"><span>3   9
</span></span><span style="display:flex;"><span>3   3
</span></span></code></pre></div><blockquote>
<p>For these example lists, here is the process of finding the similarity score:</p>
<ul>
<li>The first number in the left list is <code>3</code>. It appears in the right list three
times, so the similarity score increases by <code>3 * 3 = 9</code>.</li>
<li>The second number in the left list is <code>4</code>. It appears in the right list once,
so the similarity score increases by <code>4 * 1 = 4</code>.</li>
<li>The third number in the left list is <code>2</code>. It does not appear in the right
list, so the similarity score does not increase (<code>2 * 0 = 0</code>).</li>
<li>The fourth number, <code>1</code>, also does not appear in the right list.</li>
<li>The fifth number, <code>3</code>, appears in the right list three times; the similarity
score increases by <strong><code>9</code></strong>.</li>
<li>The last number, <code>3</code>, appears in the right list three times; the similarity
score again increases by <strong><code>9</code></strong>.</li>
</ul>
<p>So, for these example lists, the similarity score at the end of this process is
<strong><code>31</code></strong> (<code>9 + 4 + 0 + 0 + 9 + 9</code>).</p>
<p>Once again consider your left and right lists. <strong>What is their similarity score?</strong></p>
</blockquote>
</div>
</details>
<p>My idea here is simple - we first count the occurrences of <code>V2</code> to be able to
check <code>V1</code> against them. Here, applying the <code>table</code> command works like
<code>pandas.value_counts()</code> and achieves this. We convert the output to a
<code>data.frame</code> and assign the <code>V1</code> values as row names. Note: <code>table</code> converts the
values which are counted to string, e.g. <code>&quot;10019&quot;</code> instead of <code>10019</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span>tab <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">table</span>(v2)
</span></span><span style="display:flex;"><span>v2series <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">data.frame</span>(<span style="color:#a6e22e">c</span>(tab), row.names <span style="color:#f92672">=</span> <span style="color:#a6e22e">names</span>(tab))
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">head</span>(v2series)
</span></span><span style="display:flex;"><span>v2series[<span style="color:#e6db74">&#34;10019&#34;</span>, ]
</span></span></code></pre></div><table>
  <thead>
      <tr>
          <th></th>
          <th>c.tab.</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td></td>
          <td>&lt;int&gt;</td>
      </tr>
      <tr>
          <td>10019</td>
          <td>1</td>
      </tr>
      <tr>
          <td>10100</td>
          <td>1</td>
      </tr>
      <tr>
          <td>10206</td>
          <td>1</td>
      </tr>
      <tr>
          <td>10428</td>
          <td>1</td>
      </tr>
      <tr>
          <td>10645</td>
          <td>1</td>
      </tr>
      <tr>
          <td>10972</td>
          <td>1</td>
      </tr>
  </tbody>
</table>
<p>1</p>
<p>Now, we loop through <code>V1</code> and try to access the frequency in <code>V2</code> (by converting
to string first, via <code>as.character</code>). If nothing is found in <code>V2</code>, an <code>NA</code> value
is returned. For everything that is not NA, we compute the similarity score,
append it to a list, and sum in the end. Note: a list in R can not directly be
summed (I don&rsquo;t know why that is) - so we have to <code>unlist</code> first.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span>sim <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">list</span>()
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (num <span style="color:#66d9ef">in</span> v1) {
</span></span><span style="display:flex;"><span>    myfreq <span style="color:#f92672">&lt;-</span> v2series<span style="color:#a6e22e">[as.character</span>(num), ]
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">is.na</span>(myfreq)) {
</span></span><span style="display:flex;"><span>        score <span style="color:#f92672">&lt;-</span> myfreq <span style="color:#f92672">*</span> num
</span></span><span style="display:flex;"><span>        sim <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">append</span>(sim, score)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">sum</span>(<span style="color:#a6e22e">unlist</span>(sim))
</span></span></code></pre></div><p>22565391</p></div>
</article>
 
      

      
  
  <div class="book-comments">

<script src="https://utteranc.es/client.js"
        repo="aseltmann/aseltmann.github.io"
        issue-term="pathname"
        label="comment"
        theme="photon-dark"
        crossorigin="anonymous"
        async>
</script>
</div>
  
 

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">


  <div><a class="flex align-center" href="https://github.com/aseltmann/aseltmann.github.io-org-src/commit/66e7caf24e427ddc82fd4ce93f208a6020554325" title='Last modified by A Seltmann | 2025-02-09' target="_blank" rel="noopener">
      <img src="/svg/calendar.svg" class="book-icon" alt="" />
      <span>2025-02-09</span>
    </a>
  </div>



  <div>
    <a class="flex align-center" href="https://github.com/aseltmann/aseltmann.github.io-org-src/edit/main/aseltmann.github.io-hugo/content/posts/aoc2024-day01.en.md" target="_blank" rel="noopener">
      <img src="/svg/edit.svg" class="book-icon" alt="" />
      <span>Edit this page</span>
    </a>
  </div>


</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        <p>
<div class="footer">
    
    
    Exported
    
    from <a href="https://github.com/aseltmann/aseltmann.github.io-org-src/raw/main/source.org"> <code>source.org</code></a>
    
    using
    
    <a href="https://www.gnu.org/software/emacs/">Emacs 29.4 </a> &plus;
    <a href="https://orgmode.org/">Org mode 9.7.11 </a> &plus;
    
    <a href="https://github.com/kaushalmodi/ox-hugo"><code>ox-hugo</code></a>
    and published using
    
    <a href="https://gohugo.io/">Hugo 0.142.0</a>
	  &plus; <a href="https://github.com/alex-shpak/hugo-book">Book</a>
    
</div>

      </footer>

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#part-1-locations">Part 1: Locations</a></li>
    <li><a href="#part-2-similarities">Part 2: Similarities</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












